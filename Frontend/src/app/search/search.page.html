<ion-content>
  <!-- Barra de búsqueda con HTML normal -->
  <div class="search-bar">
    <input
      type="text"
      placeholder="Buscar canciones o artistas..."
      [(ngModel)]="searchQuery"
      (input)="search(searchQuery)"
    />
  </div>

  <div class="filters">
    <div class="filter-group">
      <label for="duration">Duración:</label>
      <select id="duration" [(ngModel)]="selectedDuration" (change)="applyFilters()">
        <option value="">Todas</option>
        <option value="short">Corta (menos de 3 min)</option>
        <option value="medium">Media (3-5 min)</option>
        <option value="long">Larga (más de 5 min)</option>
      </select>
    </div>

    <div class="filter-group">
      <label for="sort">Ordenar por:</label>
      <select id="sort" [(ngModel)]="selectedSort" (change)="applyFilters()">
        <option value="">Sin orden</option>
        <option value="asc">Título (A-Z)</option>
        <option value="desc">Título (Z-A)</option>
      </select>
    </div>
  </div>

  <!-- Resultados de Artistas -->
  <div *ngIf="artistResults.length > 0">
    <h2>Artistas</h2>
    <div class="artist-results">
      <div class="artist-card" *ngFor="let artist of artistResults">
        <img [src]="artist.imageUrl" alt="Imagen del artista" />
        <div>
          <h3>{{ artist.name }}</h3>
          <p>{{ artist.genres.join(', ') }}</p>
        </div>
      </div>
    </div>
  </div>

<!-- Resultados de Canciones -->
<div *ngIf="musicResults.length > 0">
  <h2>Canciones</h2>
  <div class="song-results">
    <div class="song-card" *ngFor="let track of musicResults" (click)="goToSongDetail(track.id)">
      <img [src]="track.imageUrl" alt="Portada del álbum" />
      <div>
        <h3>{{ track.name }}</h3>
        <p>{{ track.artists }}</p>
        <p><strong>Álbum:</strong> {{ track.album }}</p>
        <p><strong>Duración:</strong> {{ formatDuration(track.durationMs) }}</p>
      </div>
    </div>
  </div>
</div>
</ion-content>

<app-audio-player></app-audio-player>
<app-navbar></app-navbar>
